<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="css/styles.css" type="text/css"/>
    <title>Buy a Car</title>
</h:head>
<h:body>
    <div class="header-container">
        <img class="header-img" src="images/car.jpg" alt="car image"/>
        <h2>#{welcomePageBean.title}</h2>
    </div>

    <div class="content-container">
        <h:form prependId="false">
            <div class="without-table-container">
                <div class="first-div">
                    <h2 id="titleTest">#{welcomePageBean.indexTitle}</h2>
                    <h:link outcome="newDealPage.xhtml" styleClass="new-deal-link" value="New Deal"/>
                </div>
                <div class="second-div">

                    <div class="search-container">
                        <div class="search-criteria-div">
                            <h:outputLabel value="Dealer"/>
                            <h:selectOneMenu id="dealerOption" styleClass="input-criteria"
                                             value="#{dealSearch.selectedDealer}">
                                <f:selectItem noSelectionOption="true" itemLabel="--Please select an item--"/>
                                <f:selectItems var="dealer" itemLabel="#{dealer.name}"
                                               itemDescription="#{dealer.name}"
                                               itemValue="#{dealer.id}" value="#{dealerBean.dealers}"/>
                            </h:selectOneMenu>
                        </div>
                        <div class="search-criteria-div">
                            <h:outputLabel value="User ID"/>
                            <h:inputText id="userIdInput" styleClass="input-criteria"
                                         value="#{dealSearch.inputUserId}"/>
                        </div>
                        <div class="search-criteria-div">
                            <h:outputLabel value="Seller Number"/>
                            <h:inputText id="sellerNumberInput" styleClass="input-criteria"
                                         value="#{dealSearch.inputSellerNumber}"/>
                        </div>
                        <div class="search-criteria-div">
                            <h:outputLabel value="Lead ID"/>
                            <h:inputText id="leadIdInput" styleClass="input-criteria"
                                         value="#{dealSearch.inputLeadId}"/>
                        </div>
                        <div class="search-criteria-div">
                            <h:outputLabel value="Created Date"/>
                            <p:calendar styleClass="input-criteria input-criteria-date" id="calendarInput"
                                        value="#{dealSearch.selectedDate}" mode="popup"/>
                        </div>
                        <div class="search-criteria-div">
                            <h:outputLabel value="Contract Status"/>
                            <h:selectOneMenu id="contractStatusOption" styleClass="input-criteria"
                                             value="#{dealSearch.selectedContractStatus}">
                                <f:selectItem noSelectionOption="true" itemLabel="--Please select an item--"/>
                                <f:selectItems var="contractStatus" itemLabel="#{contractStatus.contractStatus}"
                                               itemDescription="#{contractStatus.contractStatus}"
                                               itemValue="#{contractStatus.id}"
                                               value="#{contractStatusBean.contractStatusList}"/>
                            </h:selectOneMenu>
                        </div>
                        <div class="search-criteria-div">
                            <h:outputLabel value="Customer Lastname"/>
                            <h:inputText id="lastNameInput" styleClass="input-criteria"
                                         value="#{dealSearch.inputCustomerLastName}"/>
                        </div>
                        <div class="search-criteria-div">
                            <h:outputLabel value="Customer Firstname"/>
                            <h:inputText id="firstNameInput" styleClass="input-criteria"
                                         value="#{dealSearch.inputCustomerFirstName}"/>
                        </div>
                        <div class="search-criteria-div">
                            <h:outputLabel value="Company Name"/>
                            <h:inputText styleClass="input-criteria" value="#{dealSearch.inputCompanyName}"/>
                        </div>
                        <div class="search-criteria-div">
                            <h:outputLabel value="Vehicle"/>
                            <h:selectOneMenu id="vehicleOption" styleClass="input-criteria"
                                             value="#{dealSearch.selectedVehicle}">
                                <f:selectItem noSelectionOption="true" itemLabel="--Please select an item--"/>
                                <f:selectItems var="vehicle" itemLabel="#{vehicle.model}"
                                               itemDescription="#{vehicle.model}"
                                               itemValue="#{vehicle.id}" value="#{vehicleBean.vehicles}"/>
                            </h:selectOneMenu>
                        </div>
                        <div class="search-criteria-div">
                            <h:outputLabel value="Contract Number"/>
                            <h:inputText id="contractNumberInput" styleClass="input-criteria"
                                         value="#{dealSearch.inputContractNumber}"/>
                        </div>
                    </div>
                    <div class="submit-button-div">
                        <h:commandButton id="dealSearchButton" value="Search for Deals" type="submit"
                                         action="#{dealSearch.filterDeals}"
                                         styleClass="search-button">
                            <f:ajax render="dealsTable"
                                    execute="dealerOption userIdInput sellerNumberInput leadIdInput calendarInput contractStatusOption lastNameInput firstNameInput vehicleOption contractNumberInput"/>
                        </h:commandButton>
                    </div>
                </div>
            </div>

            <div class="third-div">
                <h:panelGroup layout="block" id="dataTableDiv">
                    <h:dataTable id="dealsTable" styleClass="deals-table" cellspacing="0" cellpadding="0"
                                 value="#{dealSearch.deals}" var="deal">
                        <h:column>
                            <f:facet styleClass="table-head-elem" name="header">
                                Dealer
                            </f:facet>
                            <h:outputText value="#{deal.dealer.name}"/>
                        </h:column>
                        <h:column>
                            <f:facet styleClass="table-head-elem" name="header">
                                User ID
                            </f:facet>
                            <h:outputText value="#{deal.userId}"/>
                        </h:column>
                        <h:column>
                            <f:facet styleClass="table-head-elem" name="header">
                                Seller Number
                            </f:facet>
                            <h:outputText value="#{deal.sellerNumber}"/>
                        </h:column>
                        <h:column>
                            <f:facet styleClass="table-head-elem" name="header">
                                Date
                            </f:facet>
                            <h:outputText value="#{deal.dateCreated}"/>
                        </h:column>
                        <h:column>
                            <f:facet styleClass="table-head-elem" name="header">
                                Status
                            </f:facet>
                            <h:outputText value="#{deal.contractStatus.contractStatus}"/>
                        </h:column>
                        <h:column>
                            <f:facet styleClass="table-head-elem" name="header">
                                Customer Last Name
                            </f:facet>
                            <h:outputText value="#{deal.customer.lastName}"/>
                        </h:column>
                        <h:column>
                            <f:facet styleClass="table-head-elem" name="header">
                                Customer First Name
                            </f:facet>
                            <h:outputText value="#{deal.customer.firstName}"/>
                        </h:column>
                        <h:column>
                            <f:facet styleClass="table-head-elem" name="header">
                                Vehicle
                            </f:facet>
                            <h:outputText value="#{deal.vehicle.model}"/>
                        </h:column>
                        <h:column>
                            <f:facet styleClass="table-head-elem" name="header">
                                Contract Number
                            </f:facet>
                            <h:outputText value="#{deal.contractNumber}"/>
                        </h:column>

                    </h:dataTable>
                </h:panelGroup>
            </div>
        </h:form>
    </div>
</h:body>
</html>